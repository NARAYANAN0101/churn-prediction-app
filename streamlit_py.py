# -*- coding: utf-8 -*-
"""streamlit.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1bIEI0WkDmMHXccHZ4EGk203FKz2m_HZk
"""

# Commented out IPython magic to ensure Python compatibility.
# %%writefile streamlit_app.py
# import streamlit as st
# import pandas as pd
# import joblib
# 
# # Load model & feature schema
# model = joblib.load("churn_model.pkl")
# feature_columns = joblib.load("feature_columns.pkl")
# 
# st.set_page_config(page_title="Customer Churn Predictor", layout="centered")
# st.title("ðŸ“Š Customer Churn Prediction System")
# 
# st.subheader("Enter Customer Details")
# 
# # === USER INPUTS (BASED ON EXCEL SHEET) ===
# tenure = st.number_input("Tenure (months)", min_value=0, value=5)
# monthly_charges = st.number_input("Monthly Charges", min_value=0.0, value=80.0)
# total_charges = st.number_input("Total Charges", min_value=0.0, value=400.0)
# 
# contract = st.selectbox("Contract Type", ["Month-to-month", "One year", "Two year"])
# payment = st.selectbox("Payment Method", ["Electronic check", "Credit card", "Bank transfer"])
# internet = st.selectbox("Internet Service", ["Fiber optic", "DSL"])
# 
# # === BUILD MODEL INPUT (ONE-HOT INTERNALLY) ===
# if st.button("Predict Churn"):
# 
#     # Base input dictionary
#     input_data = {
#         "tenure": tenure,
#         "MonthlyCharges": monthly_charges,
#         "TotalCharges": total_charges,
#         "avg_monthly_spend": total_charges / tenure if tenure != 0 else 0
#     }
# 
#     # Initialize all feature columns with 0
#     model_input = dict.fromkeys(feature_columns, 0)
# 
#     # Fill numeric values
#     for key in input_data:
#         model_input[key] = input_data[key]
# 
#     # One-hot encoding logic
#     if contract != "Month-to-month":
#         model_input[f"Contract_{contract}"] = 1
# 
#     if payment != "Bank transfer":
#         model_input[f"PaymentMethod_{payment}"] = 1
# 
#     if internet == "Fiber optic":
#         model_input["InternetService_Fiber optic"] = 1
# 
#     # Convert to DataFrame
#     input_df = pd.DataFrame([model_input])
# 
#     # Prediction
#     churn_prob = model.predict_proba(input_df)[0][1]
#     risk = "HIGH ðŸ”´" if churn_prob >= 0.4 else "LOW ðŸŸ¢"
# 
#     st.subheader("Prediction Result")
#     st.write(f"### Churn Probability: {round(churn_prob, 3)}")
#     st.write(f"### Risk Level: {risk}")
#









